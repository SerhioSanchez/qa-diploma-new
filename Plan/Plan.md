# План автоматизации тестирования

## 1. Введение

Целью данного проекта является автоматизация тестирования веб-приложения для покупки тура «Путешествие дня».  
Приложение позволяет пользователю приобрести тур двумя способами:
- обычной оплатой по банковской карте;
- покупкой в кредит через банковский сервис.

Приложение не обрабатывает данные карт самостоятельно, а взаимодействует с внешними сервисами:
- Payment Gate (платёжный сервис),
- Credit Gate (кредитный сервис).

Для целей тестирования используется эмулятор банковских сервисов (gate-simulator), а также базы данных MySQL и PostgreSQL.

Задача автоматизации — покрыть ключевые позитивные и негативные сценарии покупки тура, а также проверить корректность сохранения данных в базе данных.

---

## 2. Объект тестирования

Объект тестирования:  
Веб-приложение для покупки тура «Путешествие дня».

В рамках проекта тестируются:
- пользовательский интерфейс (UI);
- взаимодействие с платёжным и кредитным сервисами;
- корректность сохранения результатов операций в базе данных.

---

## 3. Цели автоматизации

Основные цели автоматизации:
- Проверка корректной работы сценариев покупки тура.
- Проверка обработки ошибок при некорректных данных.
- Проверка интеграции с эмулятором банковских сервисов.
- Проверка записи результатов операций в базу данных.
- Получение воспроизводимых отчётов о результатах тестирования (Allure).

---

## 4. Объём автоматизации

### 4.1 Позитивные сценарии

Планируется автоматизировать:
- Успешную покупку тура по карте.
- Успешную покупку тура в кредит.
- Корректное отображение сообщений об успешной операции.
- Корректную запись информации об операции в базу данных.

### 4.2 Негативные сценарии

Планируется автоматизировать:
- Отказ в платеже при некорректных данных карты.
- Отказ в кредите при некорректных данных.
- Обработку ошибок со стороны платёжного/кредитного сервиса.
- Отсутствие записи некорректных операций в базу данных.
- Корректное отображение сообщений об ошибках пользователю.

---

## 5. Типы автоматизированных тестов

В рамках проекта используются следующие типы тестов:
- UI-тесты (проверка пользовательских сценариев в браузере);
- Интеграционные тесты (проверка взаимодействия с сервисами);
- Проверки базы данных (валидация записей после выполнения операций).

---

## 6. Инструменты и технологии

Для реализации автоматизации используются:
- Язык программирования: Java
- Сборщик проекта: Gradle
- Фреймворк тестирования: JUnit 5
- UI-автоматизация: Selenide
- API-тестирование: Rest-Assured
- Отчёты: Allure
- Контейнеризация: Docker, Docker Compose
- Базы данных: MySQL, PostgreSQL
- Эмулятор банковских сервисов: gate-simulator

Выбор данных инструментов обусловлен:
- их распространённостью в индустрии;
- хорошей интеграцией друг с другом;
- удобством построения отчётности и поддержки тестов.

---

## 7. Тестовое окружение

Тестовое окружение включает:
- Запущенное приложение (SUT);
- Контейнер с MySQL;
- Контейнер с PostgreSQL;
- Контейнер с эмулятором банковских сервисов (gate-simulator).

Окружение поднимается с помощью `docker-compose`.

---

## 8. Риски автоматизации

Основные риски:
- Нестабильная работа тестового окружения (Docker-контейнеры, БД, эмулятор сервисов).
- Изменение API или поведения приложения без обновления тестов.
- Флейковые UI-тесты из-за асинхронности интерфейса.
- Ограниченное время на реализацию всех запланированных сценариев.

Способы снижения рисков:
- Использование стабильных селекторов в UI-тестах.
- Логирование и отчётность через Allure.
- Разделение тестов по уровням (UI / API / DB).
- Приоритизация критичных сценариев.

---

## 9. Оценка трудозатрат (в часах)

- Анализ требований и приложения: 4 часа  
- Подготовка окружения и инфраструктуры: 4 часа  
- Написание UI-тестов: 12 часов  
- Написание API и DB-проверок: 8 часов  
- Отладка и стабилизация тестов: 6 часов  
- Подготовка отчётных документов: 4 часа  

**Итого:** ~38 часов

---

## 10. План работ

1. Анализ приложения и требований.
2. Подготовка тестового окружения (Docker, базы, эмулятор сервисов).
3. Реализация автотестов для позитивных сценариев.
4. Реализация автотестов для негативных сценариев.
5. Добавление проверок базы данных.
6. Настройка и генерация отчётов Allure.
7. Подготовка отчётной документации.

---

## 11. Критерии завершения автоматизации

Автоматизация считается завершённой, если:
- Реализованы автотесты для основных позитивных и негативных сценариев.
- Тесты стабильно выполняются в тестовом окружении.
- Формируются отчёты о прогонах тестов.
- Подготовлены все отчётные документы по проекту.

